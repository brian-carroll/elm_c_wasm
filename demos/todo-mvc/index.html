<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Elm â€¢ TodoMVC</title>
    <script type="text/javascript" src="dist/elm.js"></script>
    <link rel="stylesheet" href="dist/style.css" />
  </head>

  <body></body>

  <script type="text/javascript">
    Elm.onReady(function () {
      var storedState = localStorage.getItem('elm-todo-save');
      var startingState = storedState ? JSON.parse(storedState) : null;
      var app = Elm.Main.init({ flags: startingState });
      app.ports.setStorage.subscribe(function (state) {
        localStorage.setItem('elm-todo-save', JSON.stringify(state));
      });
    });
  </script>
</html>
