<html>
  <head>
    <style>
      body {
        background-color: #eee;
      }
      #blah-blah {
        max-width: 500px;
        margin: auto;
      }
      #elm-container {
        margin: auto;
        background-color: lightblue;
        padding: 20px;
        width: 300px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div id="blah-blah">
      <h2>Simple Elm app in WebAssembly</h2>
      <p>
        Below, in the blue box, is a <u>very basic</u> first demo of a working
        Elm app implemented (mostly) in WebAssembly rather than JavaScript.
        Click the button to refresh the number displayed.
      </p>

      <h4>Proof points</h4>
      <ul>
        <li>
          All Elm architecture functions implemented in WebAssembly
        </li>
        <li>
          <i>VirtualDom</i> working. View generated in WebAssembly and sent to
          JS for diffing and rendering.
        </li>
        <li>
          <i>onClick</i> working. Sending a callback function out to JS, having
          it attached to a DOM node, and receiving a Msg back in Wasm. Done in a
          way that avoids any memory management issues.
        </li>
        <li>
          <i>Cmd</i> working. Sending from Wasm update function to JS Kernel
          code and receiving a Msg back in Wasm.
        </li>

        <li>
          Passing Elm datastructures back and forth between JS and WebAssembly,
          done in a way that avoids memory management issues. (Important since
          JS and Wasm have separate Garbage Collectors in this implementation)
        </li>
        <li>
          Passing Elm <i>function closures</i> back and forth between JS and
          WebAssembly! (Due to the <i>Cmd</i> containing a
          <i>Msg</i> constructor)
        </li>
      </ul>

      <h4>Links</h4>
      <ul>
        <li>
          <a
            href="https://github.com/brian-carroll/elm_c_wasm/tree/master/demos/2019-12-wrapper"
          >
            Demo source code
          </a>
        </li>
        <li>
          <a href="https://github.com/brian-carroll/elm_c_wasm">
            Code repo
          </a>
        </li>
        <li>
          <a
            href="https://github.com/brian-carroll/elm_c_wasm/tree/master/docs"
          >
            Project Documentation
          </a>
        </li>
      </ul>

      <p>
        The actual Elm app is below. (You've been reading plain HTML till
        now!)<br />
        Click the button to start a countdown.<br />
      </p>
    </div>
    <br />

    <div id="elm-container">
      <div id="main"></div>
    </div>
    <script src="dist/bundle.js"></script>
    <script>
      Elm.Main.init({ node: document.querySelector('#main') });
    </script>
  </body>
</html>
